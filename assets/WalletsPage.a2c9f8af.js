import{Q as V}from"./QPage.108dbccf.js";import{a as d}from"./QBtn.b1da13cb.js";import{f as Q,h as C,Q as h,C as b,i as N,j as c,l as T,k as A}from"./QTable.29c25321.js";import{Q as y,a as _}from"./LocalStorage.215deae9.js";import{B as g,r,_ as v,n as P,C as w,L as k,F as a,E as o,ah as S,v as $,H as p,I as f,K as B,D as O,J as W}from"./index.7a828ab0.js";import{u as D}from"./wallets-store.ff5a08be.js";import"./render.4e8eca75.js";import"./use-dark.928045fe.js";import"./QItem.d4ac1138.js";const U=g({name:"WalletAddingComponent",setup(){const l=D(),t=r(),n=r(!1),s=r("");async function u(){var e,i;s.value="",n.value=!0,await P(),(i=(e=t.value)==null?void 0:e.$el)==null||i.focus()}function m(){var e;s.value.length<3||(l.addWallet(s.value),s.value="",(e=t.value)==null||e.resetValidation(),n.value=!1)}return{openAddWalletDialog:u,addDialogOpened:n,saveWallet:m,walletName:s,inputWalletNameRef:t}}}),H={class:"q-px-md full-width"};function q(l,t,n,s,u,m){return w(),k("div",H,[a(d,{color:"positive",icon:"add",glossy:"",label:"Add Wallet",onClick:l.openAddWalletDialog},null,8,["onClick"]),a(h,{modelValue:l.addDialogOpened,"onUpdate:modelValue":t[1]||(t[1]=e=>l.addDialogOpened=e),persistent:"","transition-show":"scale","transition-hide":"scale"},{default:o(()=>[a(y,null,{default:o(()=>[a(_,{class:"row items-center",style:{width:"250px"}},{default:o(()=>[a(Q,{ref:"inputWalletNameRef",outlined:"",modelValue:l.walletName,"onUpdate:modelValue":t[0]||(t[0]=e=>l.walletName=e),label:"Wallet name",class:"col",rules:[e=>e.length>2||"Please use minimum 3 characters"],onKeyup:S(l.saveWallet,["enter"])},null,8,["modelValue","rules","onKeyup"])]),_:1}),a(C,{align:"right"},{default:o(()=>[$(a(d,{flat:"",label:"Cancel",color:"primary"},null,512),[[b]]),a(d,{flat:"",label:"Save wallet",color:"primary",onClick:l.saveWallet},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}var K=v(U,[["render",q]]);const R=[{name:"label",required:!0,label:"Name",align:"left",field:l=>l.label,sortable:!0},{name:"money",label:"Money",align:"left",field:l=>l.money},{name:"hide",label:"Hide in operations",align:"left",field:l=>l.hide},{name:"delete",label:"Delete",align:"center",field:"delete"}],E=g({name:"WalletsTableComponent",setup(){const l=r(!1),t=r(),n=D();return{confirmDeleteDialogOpened:l,walletsStore:n,columns:R,changedHide:()=>{n.storageWallet()},walletToRemove:t,deleteWallet:e=>{t.value=e,l.value=!0},deleteWalletConfirmed:()=>{t.value&&n.removeWallet(t.value),l.value=!1},pagination:r({rowsPerPage:0})}}}),I={class:"q-pa-md full-width"},j=p(" Do you really want to delete wallet "),F=B("br",null,null,-1);function J(l,t,n,s,u,m){return w(),k("div",I,[a(A,{title:"Wallets",rows:l.walletsStore.getWallets,columns:l.columns,"row-key":"value","virtual-scroll":"",pagination:l.pagination,"onUpdate:pagination":t[0]||(t[0]=e=>l.pagination=e),"rows-per-page-options":[0],"no-data-label":"No wallets found"},{body:o(e=>[a(N,{props:e},{default:o(()=>[a(c,{key:"label",props:e},{default:o(()=>[p(f(e.row.label),1)]),_:2},1032,["props"]),a(c,{key:"money",props:e},{default:o(()=>[p(f(e.row.money),1)]),_:2},1032,["props"]),a(c,{key:"hide",props:e},{default:o(()=>[a(T,{modelValue:e.row.hide,"onUpdate:modelValue":[i=>e.row.hide=i,l.changedHide],color:"positive"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"]),a(c,{key:"delete",props:e},{default:o(()=>[a(d,{flat:"",round:"",color:"negative",icon:"delete",onClick:i=>l.deleteWallet(e.row)},null,8,["onClick"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","pagination"]),a(h,{modelValue:l.confirmDeleteDialogOpened,"onUpdate:modelValue":t[1]||(t[1]=e=>l.confirmDeleteDialogOpened=e),"transition-show":"scale","transition-hide":"scale"},{default:o(()=>[a(y,{class:"bg-negative text-white"},{default:o(()=>[a(_,{class:"row text-center text-h6"},{default:o(()=>{var e;return[j,F,p('"'+f((e=l.walletToRemove)==null?void 0:e.label)+'"? ',1)]}),_:1}),a(C,{align:"right",class:"bg-white"},{default:o(()=>[$(a(d,{flat:"",label:"No",color:"secondary"},null,512),[[b]]),a(d,{flat:"",label:"Yes",color:"negative",onClick:l.deleteWalletConfirmed},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}var L=v(E,[["render",J]]);const M=g({name:"WalletsPage",components:{WalletAddingComponent:K,WalletsTableComponent:L},setup(){return{}}});function Y(l,t,n,s,u,m){const e=W("WalletAddingComponent"),i=W("WalletsTableComponent");return w(),O(V,{class:"col full-width"},{default:o(()=>[a(e,{class:"q-mt-md"}),a(i)]),_:1})}var oe=v(M,[["render",Y]]);export{oe as default};
