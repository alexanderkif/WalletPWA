import{Q as V}from"./QPage.7655cfe1.js";import{a as u}from"./QBtn.89a521f7.js";import{f as Q,h,Q as b,C as y,i as N,j as c,l as T,k as A}from"./QTable.3df21e53.js";import{a as _,Q as k,P as C}from"./LocalStorage.2b3d264f.js";import{B as g,r as m,_ as w,n as S,C as v,L as $,F as a,E as o,al as B,v as P,Z as O,H as f,I as p,K as R,D as U,J as W}from"./index.9101eadb.js";import{u as D}from"./wallets-store.67f81ea7.js";import"./render.2bfc9dca.js";import"./use-dark.8ab3f06c.js";import"./format.9ca1d036.js";const q=g({name:"WalletAddingComponent",setup(){const l=D(),t=m(),s=m(!1),i=m("");async function d(){var e,n;i.value="",s.value=!0,await S(),(n=(e=t.value)==null?void 0:e.$el)==null||n.focus()}function r(){var e;i.value.length<3||(l.saveWallet(i.value),i.value="",(e=t.value)==null||e.resetValidation(),s.value=!1)}return{openAddWalletDialog:d,addDialogOpened:s,saveWallet:r,walletName:i,inputWalletNameRef:t}}}),H={class:"q-px-md full-width"};function K(l,t,s,i,d,r){return v(),$("div",H,[a(u,{color:"positive",icon:"add",glossy:"",label:"Add Wallet",onClick:l.openAddWalletDialog},null,8,["onClick"]),a(b,{modelValue:l.addDialogOpened,"onUpdate:modelValue":t[1]||(t[1]=e=>l.addDialogOpened=e),persistent:"","transition-show":"scale","transition-hide":"scale"},{default:o(()=>[a(_,null,{default:o(()=>[a(k,{class:"row items-center",style:{width:"250px"}},{default:o(()=>[a(Q,{ref:"inputWalletNameRef",outlined:"",modelValue:l.walletName,"onUpdate:modelValue":t[0]||(t[0]=e=>l.walletName=e),label:"Wallet name",class:"col",rules:[e=>e.length>2||"Please use minimum 3 characters"],onKeyup:B(l.saveWallet,["enter"])},null,8,["modelValue","rules","onKeyup"])]),_:1}),a(h,{align:"right"},{default:o(()=>[P(a(u,{flat:"",label:"Cancel",color:"primary"},null,512),[[y]]),a(u,{flat:"",label:"Save wallet",color:"primary",onClick:l.saveWallet},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}var E=w(q,[["render",K]]);const I=[{name:"label",required:!0,label:"Name",align:"left",field:l=>l.label,sortable:!0},{name:"money",label:"Money",align:"left",field:l=>l.money},{name:"hide",label:"Hide in records",align:"left",field:l=>l.hide},{name:"delete",label:"Delete",align:"center",field:"delete"}],j=g({name:"WalletsTableComponent",setup(){const l=m(!1),t=m(),s=D(),i=()=>{s.storageWallet()},d=n=>{t.value=n,l.value=!0},r=()=>{t.value&&s.removeWallet(t.value),l.value=!1},e=m({rowsPerPage:C.getItem("walletsRowsPerPage")||5});return O(()=>{var n;C.set("walletsRowsPerPage",(n=e.value)==null?void 0:n.rowsPerPage)}),{confirmDeleteDialogOpened:l,walletsStore:s,columns:I,changedHide:i,walletToRemove:t,deleteWallet:d,deleteWalletConfirmed:r,initialPagination:e}}}),F={class:"q-pa-md full-width"},J=f(" Do you really want to delete wallet "),L=R("br",null,null,-1);function M(l,t,s,i,d,r){return v(),$("div",F,[a(A,{title:"Wallets",rows:l.walletsStore.getWallets,columns:l.columns,"row-key":"value",pagination:l.initialPagination,"onUpdate:pagination":t[0]||(t[0]=e=>l.initialPagination=e),"no-data-label":"No wallets found"},{body:o(e=>[a(N,{props:e},{default:o(()=>[a(c,{key:"label",props:e},{default:o(()=>[f(p(e.row.label),1)]),_:2},1032,["props"]),a(c,{key:"money",props:e},{default:o(()=>[f(p(e.row.money),1)]),_:2},1032,["props"]),a(c,{key:"hide",props:e},{default:o(()=>[a(T,{modelValue:e.row.hide,"onUpdate:modelValue":[n=>e.row.hide=n,l.changedHide],color:"positive"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"]),a(c,{key:"delete",props:e},{default:o(()=>[a(u,{flat:"",round:"",color:"negative",icon:"delete",onClick:n=>l.deleteWallet(e.row)},null,8,["onClick"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","pagination"]),a(b,{modelValue:l.confirmDeleteDialogOpened,"onUpdate:modelValue":t[1]||(t[1]=e=>l.confirmDeleteDialogOpened=e),"transition-show":"scale","transition-hide":"scale"},{default:o(()=>[a(_,{class:"bg-negative text-white"},{default:o(()=>[a(k,{class:"row text-center text-h6"},{default:o(()=>{var e;return[J,L,f('"'+p((e=l.walletToRemove)==null?void 0:e.label)+'"? ',1)]}),_:1}),a(h,{align:"right",class:"bg-white"},{default:o(()=>[P(a(u,{flat:"",label:"No",color:"secondary"},null,512),[[y]]),a(u,{flat:"",label:"Yes",color:"negative",onClick:l.deleteWalletConfirmed},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}var Y=w(j,[["render",M]]);const Z=g({name:"WalletsPage",components:{WalletAddingComponent:E,WalletsTableComponent:Y},setup(){return{}}});function z(l,t,s,i,d,r){const e=W("WalletAddingComponent"),n=W("WalletsTableComponent");return v(),U(V,{class:"col full-width"},{default:o(()=>[a(e,{class:"q-mt-md"}),a(n)]),_:1})}var se=w(Z,[["render",z]]);export{se as default};
